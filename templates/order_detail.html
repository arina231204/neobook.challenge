{% extends 'base.html' %}

{% block title %}
    <title>Order Detail</title>
{% endblock %}

{% block content %}
    <div class="container">
        <div class="order-info">
            <h1>–ó–∞–∫–∞–∑ ‚Ññ{{ order.id }}</h1>
            <div class="table-responsive">
                <table class="table table-bordered">
                    <tbody>
                        <tr>
                            <th scope="row">–ó–∞–∫–∞–∑—á–∏–∫</th>
                            <td>{{ order.name }}</td>
                        </tr>
                        <tr>
                            <th scope="row">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</th>
                            <td>{{ order.phone_number }}</td>
                        </tr>
                        <tr>
                            <th scope="row">–ê–¥—Ä–µ—Å</th>
                            <td>{{ order.address }}</td>
                        </tr>
                        <tr>
                            <th scope="row">–°—É–º–º–∞ –∫ –æ–ø–ª–∞—Ç–µ</th>
                            <td>{{ order.total_price }}</td>
                        </tr>
                        <tr>
                            <th scope="row">–ö–æ–ª-–≤–æ —Ç–æ–≤–∞—Ä–æ–≤</th>
                            <td>{{ order.quantity }}</td>
                        </tr>
                        <tr>
                            <th scope="row">–°—Ç–∞—Ç—É—Å</th>
                            <td>{{ order.status }}</td>
                        </tr>
                        <tr>
                            <th scope="row">–î–∞—Ç–∞</th>
                            <td>{{ order.created_at|date:"Y-m-d" }}</td>
                        </tr>
                        <tr>
                            <th scope="row">–í—Ä–µ–º—è</th>
                            <td>{{ order.created_at|time:"H:i:s" }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

      <div class="row">
            <div class="col-md-12">
                <div class="scrolling-wrapper">
                    <ul class="list-unstyled d-flex flex-nowrap">
                        {% for item_with_total in items_with_total %}
                            <li class="col-md-3">
                                <div class="card">
                                    <div class="card-img-container">
                                        <img class="card-img-top product-image" src="{{ item_with_total.order_item.product.image.url }}" alt="{{ item_with_total.order_item.product.name }}">
                                    </div>
                                    <div class="card-body">
                                        <p class="card-text">{{ item_with_total.order_item.quantity }} x {{ item_with_total.order_item.product.name }} - {{ item_with_total.total }}</p>
                                    </div>
                                </div>
                            </li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
<!-- –ö–Ω–æ–ø–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã -->
    <div class="cart-button">
        <a href="{% url 'order_pdf' order.id %}">
            <div class="cart-icon"></div>
        </a>
    </div>


    <style>
        .scrolling-wrapper {

            overflow-x: auto;
            white-space: nowrap;
        }

        .scrolling-wrapper .card {
            display: inline-block;
            width: 220px; /* –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∂–µ–ª–∞–µ–º—É—é —à–∏—Ä–∏–Ω—É –∫–∞—Ä—Ç–æ—á–∫–∏ */
            margin-right: 10px; /* –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –º–µ–∂–¥—É –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ */
        }

        .card-img-container {
            overflow: hidden;
            height: 200px; /* –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∂–µ–ª–∞–µ–º—É—é –≤—ã—Å–æ—Ç—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è */
            width: 100%;
        }

        .card-img-top {
            width: 100%;
            height: auto;
            object-fit: cover;
        }
        .cart-button {
                    position: fixed;
                    bottom: 20px;
                    right: 50px; /* –ò–∑–º–µ–Ω–µ–Ω–æ —Å left –Ω–∞ right */
                    z-index: 999; /* –ß—Ç–æ–±—ã –∫–Ω–æ–ø–∫–∞ –±—ã–ª–∞ –ø–æ–≤–µ—Ä—Ö –¥—Ä—É–≥–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
                    text-decoration: none;
                }

                .cart-icon {
                    width: 100px; /* –®–∏—Ä–∏–Ω–∞ –∏–∫–æ–Ω–∫–∏ –∫–æ—Ä–∑–∏–Ω—ã */
                    height: 100px; /* –í—ã—Å–æ—Ç–∞ –∏–∫–æ–Ω–∫–∏ –∫–æ—Ä–∑–∏–Ω—ã */
                    background-color: #A9A9A9; /* –¶–≤–µ—Ç –∏–∫–æ–Ω–∫–∏ */
                    border-radius: 50%; /* –î–ª—è –∫—Ä—É–≥–ª–æ–π —Ñ–æ—Ä–º—ã –∏–∫–æ–Ω–∫–∏ */
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    font-size: 90px; /* –†–∞–∑–º–µ—Ä –∏–∫–æ–Ω–∫–∏ (–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å) */
                    color: white; /* –¶–≤–µ—Ç –∑–Ω–∞—á–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã */
                    animation: slide 2s infinite; /* –ê–Ω–∏–º–∞—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è */

                }

                .cart-icon::before {
                    content: 'üßæ';
                    font-size: 55px; /* –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –∑–Ω–∞—á–∫–∞ */
                    position: absolute; /* –£—Å—Ç–∞–Ω–æ–≤–∏–º –ø–æ–∑–∏—Ü–∏—é –¥–ª—è –∑–Ω–∞—á–∫–∞ */
                    top: 50%; /* –ü–æ–º–µ—Å—Ç–∏–º –∑–Ω–∞—á–æ–∫ –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ –Ω–∞ 50% */
                    left: 50%; /* –ü–æ–º–µ—Å—Ç–∏–º –∑–Ω–∞—á–æ–∫ –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ –Ω–∞ 50% */
                    transform: translate(-50%, -50%); /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –∑–Ω–∞—á–æ–∫ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ */
                }
                @keyframes slide {
                    0%, 100% {
                        transform: translateX(0); /* –ù–∞—á–∞–ª—å–Ω–∞—è –∏ –∫–æ–Ω–µ—á–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è (–±–µ–∑ —Å–º–µ—â–µ–Ω–∏—è) */
                    }
                    50% {
                        transform: translateX(20px); /* –ü–æ–∑–∏—Ü–∏—è —Å–º–µ—â–µ–Ω–∏—è –≤–ø—Ä–∞–≤–æ –Ω–∞ 20px */
                    }
                }
    </style>
{% endblock %}